<h4 class="text-center">Cadastre-se</h4>

<form class="form mt-4" 
[formGroup]="novoUsuarioForm" 
(submit)="cadastrar()">
    <div class="form-group mb-3">
        <input placeholder="Nome Completo" 
        class="form-control" 
        formControlName="fullName">
        <app-mensagem *ngIf="novoUsuarioForm.get('fullName')?.errors && novoUsuarioForm.get('fullName')?.touched"
            mensagem="Nome Completo obrigatório!">
        </app-mensagem>
    </div>
    <div class="form-group mb-3">
        <input placeholder="email" 
        class="form-control" 
        formControlName="email">
        <app-mensagem
            *ngIf="novoUsuarioForm.get('email')?.errors?.['required'] && novoUsuarioForm.get('email')?.touched"
            mensagem="E-mail obrigatório!"></app-mensagem>
        <app-mensagem *ngIf="novoUsuarioForm.get('email')?.errors?.['email'] && novoUsuarioForm.get('email')?.touched"
            mensagem="O e-mail deve ser válido."></app-mensagem>
        <app-mensagem 
            *ngIf="novoUsuarioForm.get('email')?.errors?.['emailExistente']"
            mensagem="Esse e-mail já está em uso."
        ></app-mensagem>
    </div>
    <div class="form-group mb-3">
        <input placeholder="Usuário" 
        class="form-control" 
        formControlName="userName" 
        />
        <app-mensagem *ngIf="
            novoUsuarioForm.get('userName')?.errors?.['minusculo'] &&
            novoUsuarioForm.get('userName')?.touched
          " 
          mensagem="Usuário deve ser em letra minúscula">
        </app-mensagem>
        <app-mensagem 
            *ngIf="novoUsuarioForm.get('userName')?.errors?.['userNameExistente']"
            mensagem="Usuário já existe">
        </app-mensagem>
    </div>
    <div class="form-group mb-3">
        <input placeholder="Senha" 
        type="password" 
        class="form-control" 
        formControlName="password">
        <app-mensagem
            *ngIf="novoUsuarioForm.get('password')?.errors?.['required'] && novoUsuarioForm.get('password')?.touched"
            mensagem="Senha obrigatória!">
        </app-mensagem>
        <app-mensagem
            *ngIf="novoUsuarioForm.get('password')?.errors?.['minlength'] && novoUsuarioForm.get('password')?.touched"
            mensagem="A Senha deve conter no mínimo 8 caracteres.">
        </app-mensagem>
    </div>

    <button class="btn btn-primary btn-block" [disabled]="!novoUsuarioForm.valid">Cadastrar</button>
</form>

<p>Já é um usuário? <a [routerLink]="['']">Faça Login</a></p>